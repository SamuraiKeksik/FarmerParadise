@model AppUser
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram Mini App</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white p-6">
    <div class="max-w-md mx-auto space-y-6">
        <!-- Баланс -->
        <div class="flex items-center justify-between bg-gray-800 p-4 rounded-lg shadow-md">
            <div class="flex items-center space-x-3">
                <div class="bg-blue-500 text-white font-bold rounded-full w-10 h-10 flex items-center justify-center text-lg">
                </div>
                <div>
                    <p class="text-gray-400 text-sm">Баланс</p>
                    <p class="text-2xl font-bold"> тугрик(ов)</p>
                </div>
            </div>
        </div>

        <!-- Мои игровые элементы -->
        <div class="bg-gray-800 p-5 rounded-lg shadow-lg">
            <h2 class="text-xl font-bold mb-4">Мои игровые элементы</h2>

            <!-- Поля -->
            <div class="mb-4">
                <p class="text-lg font-semibold">Поля</p>
                <p class="text-gray-400 text-sm">Всего: 10 | Засеяно: 7</p>
                <button class="bg-green-500 hover:bg-green-600 transition px-5 py-2 rounded-lg mt-3 w-full font-semibold shadow-md" id="plant-button">Засеять</button>
            </div>
            <!-- Модальное окно выбора культуры -->
            <div id="plant-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center">
                <div class="bg-gray-800 p-6 rounded-lg shadow-lg w-96 relative">
                    <!-- Кнопка закрытия -->
                    <button class="absolute top-2 right-2 text-white text-xl" onclick="closePlantModal()">&times;</button>
                    <h2 class="text-xl font-bold mb-4">Выбор культуры</h2>
                    <div class="space-y-4">
                        <div class="bg-green-700 p-4 rounded-lg flex justify-between items-center">
                            <div>
                                <p class="font-semibold">Пшеница</p>
                                <p class="text-sm text-gray-300">созревает </p>
                                <p class="text-sm text-gray-300">Событие: засуха</p>
                                <div class="grid grid-cols-9 gap-1 mt-2">
                                    <!-- 72 мини-прямоугольника -->
                                    <div class="w-2 h-2 bg-gray-400" style="animation: blink 1.5s infinite alternate"></div>
                                </div>

                            </div>
                            <div class="flex items-center">
                                <p class="text-lg font-bold mr-2">"289"</p>
                                <button class="bg-blue-500 text-white px-2 py-1 rounded-full text-sm" onclick="openSeedModal()">+</button>
                            </div>
                        </div>
                        <!-- пустое -->
                        <div class="bg-gray-700 p-4 rounded-lg flex justify-between items-center">
                            <div>
                                <p class="font-semibold">Пшеница</p>
                                <p class="text-sm text-gray-300">3 дня на созревания</p>
                                <p class="text-sm text-gray-300">Событие: тишина</p>
                                <div class="grid grid-cols-9 gap-1 mt-2">
                                    <!-- 72 мини-прямоугольника -->
                                    <div class="w-2 h-2 bg-gray-400" style="animation: blink 1.5s infinite alternate"></div>
                                </div>

                            </div>
                            <div class="flex items-center">
                                <p class="text-lg font-bold mr-2"> 100</p>
                                <button class="bg-blue-500 text-white px-2 py-1 rounded-full text-sm" onclick="openSeedModal()">+</button>
                            </div>
                        </div>
                    </div>
                    <button class="bg-yellow-500 hover:bg-yellow-600 transition px-5 py-2 rounded-lg mt-4 w-full font-semibold shadow-md" id="Auctions">Расширить поля на аукцион</button>
                </div>
            </div>

            <!-- Всплывающее окно выбора количества зерна -->
            <div id="seed-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center">
                <div class="bg-gray-800 p-6 rounded-lg shadow-lg w-80">
                    <h2 class="text-xl font-bold mb-4">Выбор количества зерна</h2>
                    <p class="text-gray-300">Поле: #1</p>
                    <p class="text-gray-300">Зерно у вас: <span id="seed-count">50</span></p>
                    <input type="range" id="seed-slider" min="0" max="50" value="0" class="w-full mt-2">
                    <p class="text-lg font-bold text-center mt-2" id="selected-seed">0</p>
                    <button class="bg-green-500 hover:bg-green-600 transition px-5 py-2 rounded-lg mt-4 w-full font-semibold shadow-md" onclick="closeSeedModal()">OK</button>
                </div>
            </div>

            <script>
                function closePlantModal() {
                    document.getElementById('plant-modal').classList.add('hidden');
                }
            </script>


            <!-- Зерно -->
            <div class="mb-4">
                <p class="text-lg font-semibold">Зерно</p>
                <p class="text-gray-400 text-sm">Обычное: 50 | Обычное: 20 | Обычное: 5</p>
            </div>

            <!-- Курицы -->
            <div>
                <p class="text-lg font-semibold">Курицы</p>
                <p class="text-gray-400 text-sm">Куриц: 15 | Яиц: 30 | В инкубаторе: 5</p>
                <p class="text-red-400 text-sm">Завтра погибнет: 2</p>
                <button class="bg-yellow-500 hover:bg-yellow-600 transition px-5 py-2 rounded-lg mt-3 w-full font-semibold shadow-md">Покормить</button>
            </div>
        </div>

        <!-- Сезон -->
        <div class="bg-gray-800 p-4 rounded-lg text-center shadow-md">
            <h3 class="text-lg font-semibold">Сезон Весна начался!</h3>
            <p class="text-gray-400 text-sm">Новые события ждут вас!</p>
        </div>

        <!-- Играть -->
        <div class="text-center">
            <div class="flex justify-center gap-2">
                <button id="play-button1" class="bg-purple-500 hover:bg-purple-600 transition px-6 py-3 rounded-lg text-white text-lg font-bold shadow-md w-full">
                    Играть

                    <p class="text-white-400 text-sm mt-2">Попытки: 1/1</p>
                    <button id="play-button2" class="bg-blue-500 hover:bg-blue-600 transition px-4 py-3 rounded-lg text-white text-lg font-bold shadow-md w-1/3">
                        Доп.попытка
                        <p class="text-white-400 text-sm mt-2">Попытки: 0/1</p>
            </div>
        </div>

        <!-- Навигация -->
        <div class="fixed bottom-0 left-0 w-full bg-gray-800 p-4 flex justify-around border-t border-gray-700 shadow-lg">
            <a href="#" class="flex flex-col items-center text-gray-300 hover:text-white transition">🌾<span class="text-sm">Поле</span></a>
            <a href="#" class="flex flex-col items-center text-gray-300 hover:text-white transition">🏆<span class="text-sm">Аукционы</span></a>
            <a href="#" class="flex flex-col items-center text-gray-300 hover:text-white transition">📈<span class="text-sm">Рынок</span></a>
            <a href="#" class="flex flex-col items-center text-gray-300 hover:text-white transition">👥<span class="text-sm">Друзья</span></a>
            <a href="#" class="flex flex-col items-center text-gray-300 hover:text-white transition">👤<span class="text-sm">Профиль</span></a>
        </div>
    </div>

    <script>
        document.getElementById('play-button1').addEventListener('click', function () {
            window.location.href = "/Home/Saper";
        });
        document.getElementById('play-button2').addEventListener('click', function () {
            window.location.href = "/Home/Saper";
        });
        document.getElementById('Auctions').addEventListener('click', function () {
            window.location.href = "/Home/Auctions";
        });
        document.getElementById('plant-button').addEventListener('click', function () {
            document.getElementById('plant-modal').classList.remove('hidden');
        });

        document.getElementById('expand-fields').addEventListener('click', function () {
            document.getElementById('plant-modal').classList.add('hidden');
        });

        function openSeedModal() {
            document.getElementById('seed-modal').classList.remove('hidden');
        }

        function closeSeedModal() {
            document.getElementById('seed-modal').classList.add('hidden');
        }

        // Обновление количества зерна при перемещении ползунка
        document.getElementById('seed-slider').addEventListener('input', function () {
            document.getElementById('selected-seed').innerText = this.value;
        });

    </script>
</body>
</html>
